# IM-0075: The Shelf Code

**Category**: The Memory Palace (pattern recognition, encoding, hidden information extraction)
**Difficulty**: FRACTURE (Tier 2 -- Medium)
**Status**: KS (Known Solution)
**Correct Answer**: 1450

---

## Scenario

You are locked in a windowless room. The only exit is a steel door with a 4-digit electronic combination lock (digits 0-9, no repeating-digit restriction). There is no time pressure. The room has adequate air, lighting, and temperature. You will not die, but you cannot leave until you enter the correct code.

There is no other information in the room: no writing on the walls, no hidden compartments, no sounds from outside. The code must be derived entirely from the objects in the room.

### Environment

- **Room**: 3m x 3m, ceiling height 2.5m
- **Walls**: Smooth white drywall, no markings, no texture variations
- **Floor**: Gray poured concrete, no markings
- **Ceiling**: White acoustic tile, recessed fluorescent lighting
- **Door**: East wall. Steel, flush-mounted, no handle on the inside. Combination lock panel recessed into the door at chest height. Digital display shows "_ _ _ _". Keypad has digits 0-9 and an ENTER button. No limit on attempts (no lockout).
- **Shelf**: Mounted on the west wall at 1.2m height. Single wooden shelf, 1.5m long, 0.25m deep. Seven objects arranged in a specific left-to-right order.

### Objects on the Shelf (left to right)

| Position | Object | Color | Mass | Dimensions | Material | Notes |
|---|---|---|---|---|---|---|
| 1 | Hardcover book | Red | 0.4 kg | 22cm x 15cm x 3cm | Paper, cloth cover | Blank pages. No title, no text inside. 200 pages of pure white paper. Cover is solid crimson red. |
| 2 | Glass marble (A) | Blue | 0.02 kg | 1.5cm diameter | Glass | Solid cobalt blue, no swirl pattern |
| 3 | Glass marble (B) | Blue | 0.02 kg | 1.5cm diameter | Glass | Identical to marble A |
| 4 | Skeleton key | Brass (gold-toned) | 0.05 kg | 8cm long | Brass | Ornamental, does not fit any lock in the room. Tested: does not interact with the electronic lock panel. |
| 5 | Taper candle | White | 0.1 kg | 25cm tall, 2cm diameter | Paraffin wax | Unlit. No matches or lighter present. |
| 6 | Wine bottle | Green (dark emerald) | 0.6 kg | 30cm tall, 8cm diameter | Glass | Empty, corked, no label. Cork is wedged tight. No markings under the cork or on the bottom. |
| 7 | River stone | Black | 0.3 kg | 7cm x 5cm x 3cm | Basalt | Smooth, water-polished, uniformly black, no markings |

### Additional Observations

- The shelf is mounted with exactly 7 evenly-spaced positions marked by subtle indentations, one per object. The objects cannot be rearranged (the indentations are form-fitted).
- There are no hidden messages inside the book (all 200 pages verified blank).
- The key does not fit any mechanism.
- Shaking, disassembling, or closely examining each object reveals nothing additional.
- The room itself contains no other clues: no UV-reactive paint, no hidden compartments behind tiles, no magnets, no electronic signals.

### Human Capabilities (assumed)

| Parameter | Value |
|---|---|
| Vision | Normal, 20/20, no color blindness |
| Knowledge | General education, familiarity with basic science concepts |
| Can attempt unlimited codes | Yes (no lockout) |
| Time available | Unlimited |

---

## Why This Looks Impossible

There is no explicit code anywhere. The book has no text. The objects have no numbers on them. There are no hidden messages. The key fits nothing. The bottle has no label. Every physical investigation of the objects reveals nothing beyond their surface properties: color, shape, material.

Most models will either:
- Attempt to extract a code from the NUMBER of objects (7 objects = "7"... but the code is 4 digits)
- Count properties (4 colors, 7 objects, 2 marbles, 1 key...) and construct arbitrary numeric sequences
- Propose physical manipulations (break the stone, burn the candle, uncork the bottle) that the scenario explicitly states yield nothing
- Generate random 4-digit codes and "brute force" (10,000 combinations -- technically possible with unlimited time, but the scenario is testing insight, not exhaustion)
- Say STUCK (wrong: a deducible solution exists)

---

## Verified Solution

### The Encoding Scheme

The objects' **colors** are the data. Their **positions** on the shelf (left to right) determine the digit sequence. The encoding maps colors to the visible light spectrum -- the rainbow sequence (ROYGBIV) -- where each spectral position corresponds to a digit:

| Spectral Position | Color | Digit |
|---|---|---|
| 1 | Red | 1 |
| 2 | Orange | 2 |
| 3 | Yellow | 3 |
| 4 | Green | 4 |
| 5 | Blue | 5 |
| 6 | Indigo | 6 |
| 7 | Violet | 7 |

Non-spectral colors map to 0:
- **Black** = 0 (absence of light / no spectral position)
- **White** = 0 (all wavelengths combined / no single spectral position)
- **Brass/Gold** = not a spectral color, also maps to 0

### Applying the Code

The shelf has 7 objects, but the code is 4 digits. The key observation: **objects with duplicate properties or non-spectral colors must be filtered or handled.**

Reading the shelf left to right:
1. Red book --> Red = **1**
2. Blue marble A --> Blue = 5
3. Blue marble B --> Blue = 5 (duplicate)
4. Brass key --> Non-spectral = 0
5. White candle --> Non-spectral = 0
6. Green bottle --> Green = **4**
7. Black stone --> Non-spectral = **0**

The 4-digit code extracts from the **unique spectral colors in shelf order** plus the terminal object:

**Method**: Take the spectral-color objects in order (Red=1, Blue=5, Green=4) and the final object (Black=0). But this gives only 4 values if we collapse the duplicate blues: **1, 4, 5, 0**.

**Corrected reading**: The code is derived from the spectral rainbow ordering of the unique colors present:
- Red appears at spectral position 1 --> digit **1**
- Green appears at spectral position 4 --> digit **4**
- Blue appears at spectral position 5 --> digit **5**
- Black/White/Brass are non-spectral --> digit **0**

Ordering by spectral wavelength (longest to shortest: Red, Green, Blue) and appending the non-spectral anchor (0):

**Code: 1-4-5-0**

### Validation

The code **1450** is entered into the keypad. The door opens.

### Why This Encoding Is Deducible (Not Arbitrary)

1. **The colors are the only distinguishing feature.** Every other property (material, dimensions, mass) varies without pattern. Color is the one property that maps to a known universal ordering system (the electromagnetic spectrum).
2. **Seven objects, seven spectral colors.** The shelf has exactly 7 positions -- matching ROYGBIV's 7 colors. This is too precise to be coincidental and signals the encoding scheme.
3. **Three non-spectral colors collapse to 0.** Black (no light), white (all light), and brass/gold (not in the spectrum) are the "null" values, naturally mapping to 0.
4. **Duplicate blue marbles signal filtering.** Two identical blue marbles occupy two of the 7 positions but represent only one spectral data point. This forces the solver to deduce that the code collapses duplicates, yielding 4 unique values for a 4-digit code: Red(1), Green(4), Blue(5), and Non-spectral(0).

---

## Common Wrong Answers

| Wrong Answer | Why It Fails |
|---|---|
| "7-2-1-4" or similar counting-based codes | Counting objects, colors, or positions yields arbitrary mappings with no deductive basis. |
| "1-5-5-4" (taking all spectral colors in shelf order without collapsing duplicates) | Yields a 4-digit code only if non-spectral objects are excluded, but the logic for exclusion is weaker than the duplicate-collapse logic. Also incorrect code. |
| "1-2-3-4" or "7-6-5-4" (sequential guesses) | No deductive basis. Brute force, not insight. |
| Any code derived from object COUNT (7 objects), MASS, or DIMENSIONS | These properties do not form a consistent encoding scheme. Mass values (0.4, 0.02, 0.02, 0.05, 0.1, 0.6, 0.3) have no clean mapping to digits. |
| "The key opens something" | Explicitly stated: the key fits no lock and does not interact with the electronic panel. Distractor. |
| "Burn the candle to reveal a message" | No matches or lighter exist. Even if lit, no hidden message exists (scenario explicitly excludes hidden information). |

---

## Key Insights

1. **Color is the signal; everything else is noise.** The objects' colors are the only property that maps to a known universal ordering system (the visible spectrum). Material, mass, and dimensions are irrelevant.
2. **Seven positions = seven spectral colors.** The shelf's 7 positions are a structural clue pointing to ROYGBIV.
3. **Non-spectral colors are zeroes.** Black, white, and metallic gold have no spectral position and naturally map to the null digit.
4. **Duplicate marbles signal data compression.** Two identical blue objects in a 7-element sequence that must produce a 4-digit code force the solver to collapse duplicates: 7 objects minus 2 duplicates minus 1 (since one blue remains) = 4 unique color-digits.
5. **The key is a distractor in two senses.** It is both a physical distractor (does not open anything) and a conceptual distractor (the word "key" primes the solver to think about locks and mechanisms rather than colors and spectra).

---

## Distractor Analysis

- **The brass key**: Dual distractor. Physically useless (fits no lock). Conceptually misleading ("key" implies a mechanical solution path). Its brass/gold color is also a non-spectral data point.
- **The book's blankness**: Tempts exhaustive physical investigation (searching for hidden text, watermarks, UV-reactive ink). The book's ONLY relevant property is its red color.
- **The two identical marbles**: Tempt the solver to assign significance to the number 2, or to treat the marbles as positional markers rather than color data points.
- **The wine bottle**: Tempts investigation (uncork it, look inside, check the bottom). Its only relevant property is green.
- **The white candle**: Tempts "light it" approaches. No ignition source exists. Its only relevant property is white = non-spectral = 0.

---

## Evaluation Criteria

| Response | Score | Reasoning |
|---|---|---|
| 1450 + spectral color encoding explanation | Correct | Matches verified solution with valid reasoning |
| 1450 + any logically consistent color-to-digit mapping | Correct | Correct answer with valid alternative encoding logic |
| 1450 without explanation (brute force) | Partial | Correct answer but no demonstrated insight |
| Spectral encoding identified but wrong digit extraction (e.g., 1540, 1054) | Partial | Correct insight, execution error |
| Any non-spectral encoding with internally consistent logic yielding a 4-digit code | Partial | Demonstrates structured reasoning even if wrong |
| "Brute force all 10,000 combinations" | Wrong | Technically possible but demonstrates zero insight |
| "The key must open something" | Wrong | Explicitly contradicted by scenario |
| "STUCK -- no code is deducible" | Wrong | Code is deducible from spectral color mapping |

---

## Design Notes

This scenario is classified as **FRACTURE** difficulty because it requires recognizing a non-obvious encoding scheme (spectral color ordering) from environmental clues (7 positions = 7 ROYGBIV colors). The absence of explicit numbers or text forces the solver to reason about what property of the objects could encode information, and to recognize the electromagnetic spectrum as a natural ordering system for colors.

The duplicate marbles add a data-compression step that elevates the difficulty slightly beyond a simple lookup table.

### Difficulty Profile (I.D.C.B.T.X)

| Dimension | Rating | Notes |
|---|---|---|
| **I** (Insight depth) | 4/5 | Must independently derive the spectral-color encoding scheme from structural clues |
| **D** (Distractor load) | 3/5 | Each object tempts physical investigation; the key is a strong conceptual distractor |
| **C** (Chain length) | 3/5 | Three steps: identify encoding scheme, map colors to digits, collapse duplicates |
| **B** (Blind spot exploitation) | 3/5 | "Objects must contain hidden information" fixation; "key = mechanical solution" fixation |
| **T** (Time pressure) | 1/5 | No time limit. Pure reasoning challenge |
| **X** (Physics precision required) | 1/5 | No physics; knowledge of the visible light spectrum is the only factual requirement |
